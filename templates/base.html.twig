<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>
      {% block title %}
        Blabla Bike
      {% endblock %}
    </title>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0" />

    <meta name="title" content="Blabla Bike">
    <meta name="description" content="Tu cherches des partenaires pour rouler ? des personnes qui ont une pratique et un niveau similaires au tien ? NE CHERCHE PLUS ! 
    Blabla Bike propose aux sportifs de proposer des sorties en précisant allure et pratique !">
    <meta name="author" content="Julien Degermann">
    <meta name="keywords" content="VTT, cyclisme, route, gravel, groupe, passion, partage">
    
    <meta property="og:title" content="Blabla Bike">
    <meta property="og:author" content="Julien DEGERMANN">
    <meta property="og:description" content="Tu cherches des partenaires pour rouler ? des personnes qui ont une pratique et un niveau similaires au tien ? NE CHERCHE PLUS ! 
    Blabla Bike propose aux sportifs de proposer des sorties en précisant allure et pratique ! De quoi partager la passion du vélo ">
    <meta property="og:keywords" content="VTT, cyclisme, route, gravel, groupe, passion, partage">
    <meta property="og:image" content="{{ asset('assets/images/blablabike.webp') }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://blablabike.julien-degermann.fr">    
    
    <link rel="icon" href="{{ asset('assets/images/favicon.ico') }}" />
    {% block stylesheets %}
      {{ encore_entry_link_tags('app') }}
    {% endblock %}
    {% block javascripts %}
      {{ encore_entry_script_tags('app') }}
    {% endblock %}
  </head>
  
  <body>
    {% block body %}
      {% block header %}
        <header class="bg-primary text-white align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
          <div class="container position-relative">
            <div class="row d-flex justify-content-between align-items-center">
              <div class="col-md-1 mb-2 mb-md-0">
                <a href=" {{ path('app_home') }}" class="d-inline-flex link-body-emphasis text-decoration-none">
                    <img src="{{ asset('assets/images/blablabike.webp') }}" alt="Logo Blabla Bike" />
                </a>
                    </div>

              {% if app.request.attributes.get('_route') is not same as('app_login') and app.request.attributes.get('_route') is not same as('app_register') %}
                {% include "/partials/nav_partial.html.twig" %}
              {% endif %}

              <div class="col-md-4 text-center button-container position-relative d-flex align-items-center">
                  {% if app.user is not empty %}
                    <div class="col-6 text-end">
                      <a class="rounded-circle text-center border border-2 border-secondary d-inline-block fs-3" href=" {{ path('app_new_ride') }}" title="ajouter une sortie">+</a>
                    </div>
                    <div class="profile col-6 text-start">
                      {% if user.getFileName %}
                        <img class="rounded-circle border border-2 border-secondary" src="{{ asset('uploads/images/users/' ~ user.getFileName) }}" alt="photo de profil">                    
                      {% else %}
                        <div class="account rounded-circle border border-2 border-secondary d-flex justify-content-center align-item-center">
                          {% include 'partials/avatar_partial.html.twig' %}
                        </div>
                    {% endif %}

                    </div>
                  {% else %}
                    {% if app.request.attributes.get('_route') is not same as('app_login') and app.request.attributes.get('_route') is not same as('app_register') %}
                      <a class="btn px-3 mx-2 h-auto col btn-primary border-secondary text-white" href="{{ path('app_login') }}">CONNEXION</a>
                      <a class="btn px-3 mx-2 h-auto col btn-secondary text-primary" href="{{ path('app_register') }}">INSCRIPTION</a>
                    {% endif %}
                  {% endif %}
              </div>
            </div>
            {% if app.user is not empty %}
              <div class="position-absolute top-100 end-0 pt-3 h-auto col-md-3 profile">
              <div class="bg-white text-primary p-3 col-6 offset-6 border border-top-0 border-primary text-start
              profile-menu ">
                <p class="fw-bold border-bottom border-primary p-0 mb-1 text-center text-primary">{{ user.getUserName }}</p>
                <a class="my-0 text-primary" href="{{ path('app_profile') }}">Mon profl</a> <br>
                <a class="my-0 text-primary" href="{{ path('app_logout') }}">Me déconnecter</a>
              </div>
              </div>
              {% endif %}
            </div>
          
        </header>
        <main class="position-relative">
          <div class="position-absolute top-0 left-0 w-100">
            {% for success in app.flashes('success') %}
              <div class="alert alert-success">
                {{ success }}
              </div>
            {% endfor %}
            {% for warning in app.flashes('warning') %}
              <div class="alert alert-warning">
                {{ warning }}
              </div>
            {% endfor %}
            {% for error in app.flashes('danger') %}
              <div class="alert alert-danger">
                {{ error }}
              </div>
            {% endfor %}
          </div>              
      {% endblock %}
      
      {% block main %}
        {# here is the content of page #}
      {% endblock %}

      {% block footer %}
        </main>
        <footer class="py-3 mt-5 border-top bg-primary text-white">
          <div class="container">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
              <div class="col mb-3 text-center">
                <div class="mb-2">
                  <a href="{{ path('app_home') }}" class="d-inline-flex text-center w-auto link-body-emphasis text-decoration-none"><img src="{{ asset('assets/images/blablabike.webp') }}" alt="Logo ty'Ride" /></a>
                  <p class="text-white fs-6">
                    © 2023 - Blabla Bike <br />
                    <span class="copyrights text-white">
                      Designed et developed by <br />
                      <a class="text-white" href="https://www.linkedin.com/in/julien-degermann/">Julien DEGERMANN</a>
                    </span>
                  </p>
                </div>
              </div>

              <div class="col mb-3"></div>

              <div class="col mb-3">
                {% if app.request.attributes.get('_route') is not same as('app_login') and app.request.attributes.get('_route') is not same as('app_register') %}
                  {% include "/partials/nav_partial.html.twig" %}
                {% endif %}
              </div>

              <div class="col mb-3">
                <ul class="nav flex-column">
                  <li>
                    <a href="{{ path('app_legal_notice') }}" class="nav-link mx-1 py-1 px-4 text-white ">Mentions légales</a>
                  </li>
                  <li>
                    <a href="{{ path('app_pricacy_policy') }}" class="nav-link mx-1 py-1 px-4 text-white"> Politique de confidentialité</a>
                  </li>
                  <li>
                    <a href="{{ path('app_contact') }}" class="nav-link mx-1 py-1 px-4 text-white ">Signaler un bug</a>
                  </li>
                </ul>
              </div>

              <div class="col mb-3">
                <nav>
                  <ul class="row social ps-0 d-flex">
                    <li class="col-3 text-center">
                      <a href="#" class="my-0 p-0 text-white">
                        {% include 'partials/strava_svg_partial.html.twig' %}
                      </a>
                    </li>
                    <li class="col-3 text-center">
                      <a href="#" class="my-0 p-0 text-white">
                        {% include 'partials/linkedin_svg_partial.html.twig' %}
                      </a>
                    </li>
                    <li class="col-3 text-center">
                      <a href="#" class="my-0 p-0 text-white"> 
                        {% include 'partials/facebook_svg_partial.html.twig' %}
                      </a>
                    </li>
                    <li class="col-3 text-center">
                      <a href="#" class="nav-link my-0 p-0 text-white"> 
                        {% include 'partials/github_svg_partial.html.twig' %}
                      </a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </footer>
      {% endblock %}


    {% endblock %}
    </body>
</html>
